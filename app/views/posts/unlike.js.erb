// いいねボタンの更新
var likeBtn = document.getElementById('like-btn-<%= @post.id %>');
if (likeBtn) {
  likeBtn.outerHTML = '<%= j(
    link_to like_post_path(@post), 
            data: { turbo_method: :post },
            remote: true,
            class: "post-action-btn",
            id: "like-btn-#{@post.id}" do
      concat content_tag(:i, "favorite_border", class: "material-icons")
      concat content_tag(:span, "いいね")
    end
  ) %>';
}

// いいね数の更新
var likesCount = document.querySelector('#like-btn-<%= @post.id %>').closest('.post-footer').querySelector('.post-stat-likes span');
if (likesCount) {
  likesCount.textContent = '<%= @post.likes_count %>';
}

// アニメーション効果
var btn = document.getElementById('like-btn-<%= @post.id %>');
if (btn) {
  btn.style.transform = 'scale(0.9)';
  setTimeout(function() {
    btn.style.transform = 'scale(1)';
  }, 200);
}